// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ContactSubmission {
  id              String   @id @default(cuid())
  requestId       String   @unique
  locale          String   @default("en")
  name            String
  email           String
  company         String?
  phoneCountry    String?
  phoneDialCode   String?
  phoneNational   String?
  phoneE164       String?
  purpose         String
  otherReason     String?
  subject         String
  message         String
  walletAddress   String?
  fileName        String?
  fileSize        Int?
  fileMimeType    String?
  ip              String?
  userAgent       String?
  status          String   @default("new")
  notes           String?
  adminResponse   String?
  respondedAt     DateTime?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  
  @@map("contact_submissions")
}

// Keep basic claims model for future claims app
model ClaimSubmission {
  id              String   @id @default(cuid())
  requestId       String   @unique
  name            String
  email           String
  claimType       String   // "defect", "warranty", "damage", "other"
  productModel    String?
  purchaseDate    DateTime?
  issueDescription String
  images          String[] // Array of image URLs/paths
  status          String   @default("submitted")
  resolution      String?
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  
  @@map("claim_submissions")
}